<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Android EditText使用详解-包含很多教程上看不到的功能演示 | 飞雪无情的博客</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Android EditText使用详解-包含很多教程上看不到的功能演示</h1><a id="logo" href="/.">飞雪无情的博客</a><p class="description">专注于Android、Java、移动互联网、项目管理、软件架构</p></div><div id="nav-menu"><a href="/." class="current"><i class="icon-home"> 首页</i></a><a href="/books/"><i class="icon-history"> 新书</i></a><a href="/archives/"><i class="icon-archive"> 归档</i></a><a href="/about/"><i class="icon-about"> 关于</i></a><a href="/atom.xml"><i class="icon-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title">Android EditText使用详解-包含很多教程上看不到的功能演示</h1><div class="post-meta">2010-11-29 | <span class="categories">分类于<a href="/categories/Android/"> Android</a></span></div><span data-thread-key="2010/11/29/android-edittext-tutorials.html" class="ds-thread-count"></span><div class="post-content"><p>标题有点大，说是详解，其实就是对EditText的一些常用功能的介绍，包括密码框，电话框，空白提示文字等等的讲解，尽量的介绍详细一点，也就是所谓的详解了。。呵呵</p>
<h2 id="一：新建HelloEditText工程">一：新建HelloEditText工程</h2><p>新建一个Hello world详细步骤可以参见</p>
<p><a href="/2010/11/13/android-helloworld.html">Android 第一个Android应用，HelloWorld</a></p>
<p>创建设置如下：</p>
<ol>
<li>Project name:HelloEditText</li>
<li>Build Target :android 2.2</li>
<li>Application name:HelloEditText</li>
<li>Package name:com.flysnow</li>
<li>create Activity:HelloEditText</li>
<li>min SDK 8</li>
</ol>
<p>这时候运行还看不到EditText，因为我们还没有加上,修改main.xml如下：</p>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
    <span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
        <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
        &gt;</span>
    <span class="tag">&lt;<span class="title">EditText</span>
        <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
        <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span> 
        <span class="attribute">android:text</span>=<span class="value">"这是一个EditText"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p> 这里添加了一个id为”edit_text”的EditText，设置默认显示为本为“这是一个EditText”。。运行效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355666/8abc632a-3e6c-3c5f-9dc1-90aac6470f96.png" alt=""></p>
<h2 id="二：EditText简介">二：EditText简介</h2><p>EditText是一个非常重要的组件，可以说它是用户和Android应用进行数据传输窗户，有了它就等于有了一扇和Android应用传输的门，通过它用户可以把数据传给Android应用，然后得到我们想要的数据。</p>
<p>EditText是TextView的子类，所以TextView的方法和特性同样存在于EditText中，具体的TextView的介绍可以参考上一节<a href="/2010/11/25/android-textview-tutorials.html">Android TextView小组件的使用—附带超链接和跑马灯效果 </a></p>
<h2 id="三：长度和空白提示文字,提示文字颜色,是否可编辑等">三：长度和空白提示文字,提示文字颜色,是否可编辑等</h2><p>EditText有一些属性可以设置EditText的特性，比如最大长度，空白提示文字等。</p>
<ol>
<li>有时候我们有一些特属的需要，要求只能在EditText中输入特定个数的字符，比如身份证号、手机号吗等。这时候就可以通过android:maxLength属性来设置最大输入字符个数，比如android:maxLength=“4”就表示最多能输入4个字符，再多了就输入不进去了。</li>
</ol>
<ol>
<li>空白提示文字。有时候我们需要说明你定义的这个EditText是做什么用的，比如让输入“用户名”，或者输入“电话号码”等，但是你又不想在EditText前面加一个TextView来说明这是输入“用户名”的，因为这会使用一个TextView，那么怎么办呢？EditText为我们提供了android:hint来设置当EditText内容为空时显示的文本，这个文本只在EditText为空时显示，你输入字符的时候就消失了，不影响你的EditText的文本。。修改main.xml如下：</li>
</ol>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
    &gt;</span>
<span class="tag">&lt;<span class="title">EditText</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:maxLength</span>=<span class="value">"40"</span>
    <span class="attribute">android:hint</span>=<span class="value">"请输入用户名..."</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>运行应用就会看到如下的效果：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355690/1fe441fe-e9fc-32f2-8fcf-53e0445d654c.png" alt=""><br>看看吧，简洁明了还不用新增一个TextView说明，也不影响用户操作。</p>
<ol>
<li>上面列出了空白时的提示文字，有的人说了，我不想要这个灰色的提示文字，和我的应用整体风格不协调，那也行啊，我们可以换颜色，怎么换呢，就是通过android:textColorHint属性设置你想要的颜色。修改main.xml如下:</li>
</ol>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
    android:<span class="variable">orientation=</span><span class="string">"vertical"</span>
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"fill_parent"</span>
    &gt;
&lt;EditText
    android:<span class="variable">id=</span><span class="string">"@+id/edit_text"</span>  
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span> 
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">maxLength=</span><span class="string">"40"</span>
    android:<span class="variable">hint=</span><span class="string">"请输入用户名..."</span>
    android:<span class="variable">textColorHint=</span><span class="string">"#238745"</span>/&gt;
&lt;/LinearLayout&gt;
</code></pre><p>运行程序效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355702/7751967e-633b-3c69-bdc0-f135b1a25a25.png" alt=""><br>看到了吧，颜色已经变了。。</p>
<ol>
<li>还有一个比较实用的功能，就是设置EditText的不可编辑。设置android:enabled=”false”可以实现不可编辑，可以获得焦点。这时候我们看到EditText和一个TextView差不多：<img src="http://dl.iteye.com/upload/attachment/355705/dccc8638-134c-3532-9d44-03fbb394669b.png" alt=""></li>
</ol>
<ol>
<li>实现类似html中Textarea的文本域。在Android中没有专门的文本域组件，但是可以通过设置EditText的高来实现同样的文本域功能。修改main.xml如下:</li>
</ol>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
    &gt;</span>
<span class="tag">&lt;<span class="title">EditText</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
    <span class="attribute">android:layout_height</span>=<span class="value">"200dip"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>运行程序效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355707/a1e61bd2-1162-3b7a-8a5c-3dfe880e3866.png" alt=""></p>
<h2 id="四：输入特殊格式的字符">四：输入特殊格式的字符</h2><p>在我们开发程序的时候不免会输入一些特属个数的字符，比如密码（输入框的字符要加密显示），电话号码（比如数字和-）,数字等，这些都算是一些特属格式的字符，强大的EditText同样为我们提供了输入这些特属格式字符的设置。</p>
<ol>
<li>密码文本框。密码输入也是Android应用常用的功能，通过配置EditText的android:password=”true”就可以实现这一密码输入功能，修改main.xml如下：</li>
</ol>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
    &gt;</span>
<span class="tag">&lt;<span class="title">EditText</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:password</span>=<span class="value">"true"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>运行效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355709/b4831d6e-2f6a-3b1e-a8ae-982083b1e596.png" alt=""><br>可以看到我们输入的字符已经被“.”这样的掩码所代替。</p>
<ol>
<li>手机中发短信打电话是必不可少的，所以用于专门输入电话号码的文本框也是大有用途，有了他我们对是否是电话号码的校验就容易的多了(因为字符是正确的，只要校验格式<br>).通过设置android:phoneNumber=”true”就可以把EditText变成只接受电话号码输入的文本框，连软键盘都已经变成拨号专用软键盘了，所以不用再担心输入其他字符了。修改main.xml如下： </li>
</ol>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
    &gt;</span>
<span class="tag">&lt;<span class="title">EditText</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:phoneNumber</span>=<span class="value">"true"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>运行程序效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355713/525c31d6-adbe-39e2-8edb-afb6431d657f.png" alt=""><br>注意看软键盘，已经变成拨号专用的啦.</p>
<ol>
<li>有时候我们只想输入数字，不想输入字母，EditText为我们提供了android:numeric来控制输入的数字类型，一共有三种分别为integer（正整数）、signed（带符号整数）和decimal(浮点数)。这里以signed类型的为例，修改main.xml如下：</li>
</ol>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
    &gt;</span>
<span class="tag">&lt;<span class="title">EditText</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:numeric</span>=<span class="value">"signed"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>运行效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355719/88cc320b-3d8f-3cd7-9dc0-19c8da6df9dd.png" alt=""><br>注意这里的软键盘变成“数字键盘”的变化.</p>
<h2 id="五：为文本指定特定的软键盘类型">五：为文本指定特定的软键盘类型</h2><p>前面我们通过指定为电话号码特定格式，然后键盘类型变成了拨号专用的键盘，这个是自动变的，其实我们也可以通<br>过android:inputType来设置文本的类型，让输入法选择合适的软键盘的。。android:inputType有很多类型，这里使用date类型来演示,修改main.xml如下：</p>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
    &gt;</span>
<span class="tag">&lt;<span class="title">EditText</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:inputType</span>=<span class="value">"date"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>运行效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/355729/bbfe54c6-a87a-3ab6-908d-32644cda7d31.png" alt=""></p>
<h2 id="六：Enter键图标的设置">六：Enter键图标的设置</h2><p>软键盘的Enter键默认显示的是“完成”文本，我们知道按Enter建表示前置工作已经准备完毕了，要去什么什么啦。比如，在一个搜索中，我们输入要搜索的文本，然后按Enter表示要去搜索了，但是默认的Enter键显示的是“完成”文本，看着不太合适，不符合搜索的语义，如果能显示“搜索”两个字或者显示一个表示搜索的图标多好。事实证明我们的想法是合理的，Android也为我们提供的这样的功能。通过设置android:imeOptions来改变默认的“完成”文本。这里举几个常用的常量值：</p>
<ol>
<li>actionUnspecified  未指定，对应常量EditorInfo.IME_ACTION_UNSPECIFIED.效果：<img src="http://dl.iteye.com/upload/attachment/355737/bd9d7b7c-2a93-37b3-afd9-cda2f3593058.png" alt=""></li>
</ol>
<ol>
<li>actionNone 没有动作,对应常量EditorInfo.IME_ACTION_NONE 效果：<img src="http://dl.iteye.com/upload/attachment/355737/bd9d7b7c-2a93-37b3-afd9-cda2f3593058.png" alt=""></li>
</ol>
<ol>
<li>actionGo 去往，对应常量EditorInfo.IME_ACTION_GO 效果：<img src="http://dl.iteye.com/upload/attachment/355757/a8db4447-ec91-39aa-a546-c117db16cf55.png" alt=""></li>
</ol>
<ol>
<li>actionSearch 搜索，对应常量EditorInfo.IME_ACTION_SEARCH 效果： <img src="http://dl.iteye.com/upload/attachment/355769/c35d6b78-d5b9-314a-9698-144bc12d0af3.png" alt=""></li>
</ol>
<ol>
<li>actionSend 发送，对应常量EditorInfo.IME_ACTION_SEND 效果：<img src="http://dl.iteye.com/upload/attachment/355788/c168252f-bb3d-3831-8e3c-8bced16b12a1.png" alt=""></li>
</ol>
<ol>
<li>actionNext 下一个，对应常量EditorInfo.IME_ACTION_NEXT 效果：<img src="http://dl.iteye.com/upload/attachment/355798/aa6bd8b1-8ab3-38d9-b162-01ce10f4f998.png" alt=""></li>
</ol>
<ol>
<li>actionDone 完成，对应常量EditorInfo.IME_ACTION_DONE 效果：<img src="http://dl.iteye.com/upload/attachment/355804/79979746-7373-3377-bb7e-3dd4bdede464.png" alt=""></li>
</ol>
<p>下面已搜索为例，演示一个实例，修改main.xml如下：</p>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span>
    &gt;</span>
<span class="tag">&lt;<span class="title">EditText</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/edit_text"</span>  
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> 
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:imeOptions</span>=<span class="value">"actionSearch"</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>修改HelloEditText如下：</p>
<pre><code><span class="keyword">package</span> com.flysnow;

<span class="keyword">import</span> android.app.<span class="type">Activity</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">KeyEvent</span>;
<span class="keyword">import</span> android.widget.<span class="type">EditText</span>;
<span class="keyword">import</span> android.widget.<span class="type">TextView</span>;
<span class="keyword">import</span> android.widget.<span class="type">Toast</span>;
<span class="keyword">import</span> android.widget.<span class="type">TextView</span>.<span class="type">OnEditorActionListener</span>;

public <span class="class"><span class="keyword">class</span> <span class="title">HelloEditText</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> {</span>
    <span class="comment">/** Called when the activity is first created. */</span>
    <span class="annotation">@Override</span>
    public void onCreate(<span class="type">Bundle</span> savedInstanceState) {
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        setContentView(<span class="type">R</span>.layout.main);
        <span class="type">EditText</span> editText=(<span class="type">EditText</span>)findViewById(<span class="type">R</span>.id.edit_text);
        editText.setOnEditorActionListener(<span class="keyword">new</span> <span class="type">OnEditorActionListener</span>() {
            <span class="annotation">@Override</span>
            public boolean onEditorAction(<span class="type">TextView</span> v, int actionId, <span class="type">KeyEvent</span> event) {
                <span class="type">Toast</span>.makeText(<span class="type">HelloEditText</span>.<span class="keyword">this</span>, <span class="type">String</span>.valueOf(actionId), <span class="type">Toast</span>.<span class="type">LENGTH_SHORT</span>).show();
                <span class="keyword">return</span> <span class="literal">false</span>;
            }
        });
    }
}
</code></pre><p>运行程序，点击回车（也就是搜索图标软键盘按钮）会显示该actionId.我们上面的每一个设置都会对应一个常量，这里的actionId就是那个常量值。</p>
<p><img src="http://dl.iteye.com/upload/attachment/355851/c9f95967-fe2f-3850-a96a-17bc220fcc32.png" alt=""></p>
<h2 id="七：EditText的取值、全选、部分选择、获取选中文本">七：EditText的取值、全选、部分选择、获取选中文本</h2><p>下面通过一个例子来演示EditText的取值、全选、部分选择和获取选中文本.main.xml修改如下：</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
    android:<span class="variable">orientation=</span><span class="string">"vertical"</span>
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"fill_parent"</span>
    &gt;
&lt;EditText
    android:<span class="variable">id=</span><span class="string">"@+id/edit_text"</span>  
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span> 
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">imeOptions=</span><span class="string">"actionSearch"</span>/&gt;
&lt;Button 
    android:<span class="variable">id=</span><span class="string">"@+id/btn_get_value"</span>
    android:<span class="variable">text=</span><span class="string">"取值"</span>
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>/&gt;
&lt;Button 
    android:<span class="variable">id=</span><span class="string">"@+id/btn_all"</span>
    android:<span class="variable">text=</span><span class="string">"全选"</span>
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>/&gt;
&lt;Button 
    android:<span class="variable">id=</span><span class="string">"@+id/btn_select"</span>
    android:<span class="variable">text=</span><span class="string">"从第2个字符开始选择"</span>
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>/&gt;
&lt;Button 
    android:<span class="variable">id=</span><span class="string">"@+id/btn_get_select"</span>
    android:<span class="variable">text=</span><span class="string">"获取选中文本"</span>
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>/&gt;
&lt;/LinearLayout&gt;
</code></pre><p>HelloEditText修改如下：</p>
<pre><code><span class="keyword">package</span> com.flysnow;

<span class="keyword">import</span> android.app.Activity;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.text.Editable;
<span class="keyword">import</span> android.text.Selection;
<span class="keyword">import</span> android.view.KeyEvent;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.View.OnClickListener;
<span class="keyword">import</span> android.widget.Button;
<span class="keyword">import</span> android.widget.EditText;
<span class="keyword">import</span> android.widget.TextView;
<span class="keyword">import</span> android.widget.Toast;
<span class="keyword">import</span> android.widget.TextView.OnEditorActionListener;
<span class="javadoc">/**
 * EditText演示
 *<span class="javadoctag"> @author</span> 飞雪无情
 *<span class="javadoctag"> @since</span> 2010-11-29
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloEditText</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{
    <span class="javadoc">/** Called when the activity is first created. */</span>
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        <span class="keyword">final</span> EditText editText=(EditText)findViewById(R.id.edit_text);
        <span class="comment">//监听回车键</span>
        editText.setOnEditorActionListener(<span class="keyword">new</span> OnEditorActionListener() {
            <span class="annotation">@Override</span>
            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onEditorAction</span><span class="params">(TextView v, <span class="keyword">int</span> actionId, KeyEvent event)</span> </span>{
                Toast.makeText(HelloEditText.<span class="keyword">this</span>, String.valueOf(actionId), Toast.LENGTH_SHORT).show();
                <span class="keyword">return</span> <span class="keyword">false</span>;
            }
        });
        <span class="comment">//获取EditText文本</span>
        Button getValue=(Button)findViewById(R.id.btn_get_value);
        getValue.setOnClickListener(<span class="keyword">new</span> OnClickListener() {
            <span class="annotation">@Override</span>
            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
                Toast.makeText(HelloEditText.<span class="keyword">this</span>, editText.getText().toString(), Toast.LENGTH_SHORT).show();
            }
        });
        <span class="comment">//让EditText全选</span>
        Button all=(Button)findViewById(R.id.btn_all);
        all.setOnClickListener(<span class="keyword">new</span> OnClickListener() {
            <span class="annotation">@Override</span>
            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
                editText.selectAll();
            }
        });
        <span class="comment">//从第2个字符开始选择EditText文本</span>
        Button select=(Button)findViewById(R.id.btn_select);
        select.setOnClickListener(<span class="keyword">new</span> OnClickListener() {
            <span class="annotation">@Override</span>
            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
                Editable editable=editText.getText();
                Selection.setSelection(editable, <span class="number">1</span>,editable.length());
            }
        });
      <span class="comment">//获取选中的文本</span>
        Button getSelect=(Button)findViewById(R.id.btn_get_select);
        getSelect.setOnClickListener(<span class="keyword">new</span> OnClickListener() {
            <span class="annotation">@Override</span>
            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
                <span class="keyword">int</span> start=editText.getSelectionStart();
                <span class="keyword">int</span> end=editText.getSelectionEnd();
                CharSequence selectText=editText.getText().subSequence(start, end);
                Toast.makeText(HelloEditText.<span class="keyword">this</span>, selectText, Toast.LENGTH_SHORT).show();
            }
        });
    }
    <span class="javadoc">/**
     * 交换两个索引
     *<span class="javadoctag"> @param</span> start 开始索引
     *<span class="javadoctag"> @param</span> end 结束索引
     */</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">switchIndex</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>{
        <span class="keyword">int</span> temp=start;
        start=end;
        end=temp;
    }
}
</code></pre><p>运行效果如下：</p>
<p><img src="http://dl.iteye.com/upload/attachment/356058/4926c2d1-36a0-3cb6-b02f-e743e2313045.png" alt=""><br>可以通过输入文字和点击下面的按钮测试。</p>
<h2 id="八：小结">八：小结</h2><p>这结详细介绍了EditText的大部分特性和常用功能，如常用的密码框，获取值等等。这几天忙的没更新，这次更新个长的。可以够消化一阵子的。</p>
</div><div class="tags"><a href="/tags/Android/">Android</a><a href="/tags/Widget/">Widget</a></div><div class="post-nav"><a href="/2011/01/08/android-listview-tutorials.html" class="pre"><i class="icon-previous">Android ListView组件的使用</i></a><a href="/2010/11/24/android-textview-tutorials.html" class="next">Android TextView小组件的使用--附带超链接和跑马灯效果<i class="icon-next"></i></a></div><div data-thread-key="2010/11/29/android-edittext-tutorials.html" data-title="Android EditText使用详解-包含很多教程上看不到的功能演示" data-url="http://www.flysnow.org/2010/11/29/android-edittext-tutorials.html" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2010/11/29/android-edittext-tutorials.html" data-title="Android EditText使用详解-包含很多教程上看不到的功能演示" data-url="http://www.flysnow.org/2010/11/29/android-edittext-tutorials.html" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search" class="search-form-input"/><input type="hidden" name="sitesearch" value="http://www.flysnow.org"/></form></div><div class="widget"><div class="widget-title">最新文章</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/05/22/groovy-basis.html">Groovy基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/11/android-gradle-getting-started.html">Android Gradle 入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/13/android-tech-docs-support-annotations.html">Android注解支持(Support Annotations)</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/06/android-tech-docs-tools-attributes.html">Android技术文档翻译--工具属性(Tools Attributes)</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/03/android-tech-docs-ant-tasks.html">android技术文档翻译--ant任务</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/03/30/manage-your-android-project-with-gradle.html">使用Gradle管理你的Android Studio工程</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/03/19/android-process-application-init-databases-problem.html">Android多进程的数据库访问问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/03/10/github-page-with-hexo.html">使用Hexo在Github上搭建自己的博客</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/01/12/android-gradle-plugin-translate-done.html">Android Gradle插件中文指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/13/effective-programming-more-than-writing-code.html">高效能程序员的修炼</a></li></ul></div><div class="widget"><div class="comments-title">最近评论</div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title">分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Gradle/">Gradle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Gradle/">Gradle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件开发/">软件开发</a></li></ul></div><div class="widget"><div class="widget-title">标签</div><div class="tagcloud"><a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a><a href="/tags/Android/" style="font-size: 15px;">Android</a><a href="/tags/Ant/" style="font-size: 15px;">Ant</a><a href="/tags/数据库/" style="font-size: 15px;">数据库</a><a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a><a href="/tags/Github/" style="font-size: 15px;">Github</a><a href="/tags/翻译/" style="font-size: 15px;">翻译</a><a href="/tags/软件开发/" style="font-size: 15px;">软件开发</a><a href="/tags/Apache/" style="font-size: 15px;">Apache</a><a href="/tags/Linux/" style="font-size: 15px;">Linux</a><a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a><a href="/tags/PHP/" style="font-size: 15px;">PHP</a><a href="/tags/Gradle/" style="font-size: 15px;">Gradle</a><a href="/tags/开源/" style="font-size: 15px;">开源</a><a href="/tags/Http/" style="font-size: 15px;">Http</a><a href="/tags/HttpClitent/" style="font-size: 15px;">HttpClitent</a><a href="/tags/API/" style="font-size: 15px;">API</a><a href="/tags/Widget/" style="font-size: 15px;">Widget</a><a href="/tags/goagent/" style="font-size: 15px;">goagent</a><a href="/tags/代理/" style="font-size: 15px;">代理</a><a href="/tags/翻墙/" style="font-size: 15px;">翻墙</a><a href="/tags/Email/" style="font-size: 15px;">Email</a><a href="/tags/敏捷/" style="font-size: 15px;">敏捷</a><a href="/tags/软件工程/" style="font-size: 15px;">软件工程</a><a href="/tags/Intent/" style="font-size: 15px;">Intent</a></div></div><div class="widget"><div class="widget-title">友情链接</div><ul></ul><a href="http://yuedu.baidu.com/ebook/14a722970740be1e640e9a3e" title="Android Gradle权威指南" target="_blank">Android Gradle权威指南</a></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">飞雪无情的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/totop.js" type="text/javascript"></script><script src="/js/fancybox.pack.js" type="text/javascript"></script>
<script src="/js/jquery.fancybox.js" type="text/javascript"></script><link rel="stylesheet" href="/css/jquery.fancybox.css" type="text/css"><script>var duoshuoQuery = {short_name:'flysnow'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-44570956-1','auto');ga('send','pageview');
</script></div></body></html>